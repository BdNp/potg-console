<!-- Master Character List -->
<div class="col-sm-3" id="characterList" ng-controller="CharacterlistCtrl">
	<input type="text" ng-model="charName" placeholder="search" />
	<span ng-show="loading"><span class="fa fa-circle-o-notch fa-spin"></span> Loading...</span>
	<ul id="characterList" class="list-unstyled">
		<li ng-repeat="char in characters | filter: charName | orderBy:'title'">
		<!-- <li ng-repeat="char in characters"> -->
			<div class="btn-group" role="group">
				<button class="btn btn-default" ng-click="edit(char)">{{char.title}}</button>
				<button class="btn btn-default" ng-click="goLive(char)"><span class="fa fa-phone text-success"></span></button>
			</div>
		</li>
	</ul>
</div>

<div class="col-sm-3" id="callerList" ng-controller="CallersCtrl">
	<ul id="callerList" class="list-unstyled">
		<li ng-repeat="char in callers">
		<!-- <li ng-repeat="char in characters"> -->
			<div class="btn-group" role="group">
				<button class="btn" ng-click="onAir(char)" ng-class="char.live ? 'btn-success' : 'btn-default'">{{char.title}}</button>
				<button class="btn btn-default" ng-click="hangUp(char)"><span class="fa fa-times"></span></button>
			</div>
		</li>
	</ul>
</div>

<div class="col-sm-6" id="editCharacter" ng-controller="CharacterCtrl">
	<!-- <form id="editCharacter" ng-if="editing.length > 0"> -->
		<h2>
			Character Info
			<small>
				<button class="btn btn-link" ng-click="newChar()"><span class="fa fa-plus"></span> New Character</button>
				<span ng-show="loading"><span class="fa fa-circle-o-notch fa-spin"></span> Loading Character...</span>
			</small>
		</h2>
		<input type="text" id="name" placeholder="name" class="form-control" ng-model="editing.name" />
		<input type="text" id="characteristics" placeholder="characteristics" class="form-control" ng-model="editing.characteristics" />
		<input type="text" id="voice" placeholder="voice" class="form-control" ng-model="editing.voice" />
		<select name="actor" id="actor" ng-model="editing.actor" class="form-control">
			<option value="Brad">Brad</option>
			<option value="Derek">Derek</option>
			<option value="Jared">Jared</option>
		</select>

		<!-- Relationship List -->
		<h3>Relationships</h3>
		<ul id="relationships" class="list-unstyled">
			<div class="row">
				
				<select class="form-control" name="new-relationship" id="new-relationship" ng-model="relationshipStatus">
             		<option value="">Select a dynamic</option>
					<option value="Friends">Friends</option>
					<option>Enemies</option>
					<option>Lovers</option>
					<option>Ex-Lovers</option>
					<option>Family</option>
					<option>Works With/For</option>
				</select>
				
				<input type="text" class="form-control" ng-model="charFilter" placeholder="Filter Characters">
             	<select multiple ng-model="relationshipCharacters" class="form-control">
             		<option ng-repeat="char in characters | filter: charFilter">{{char.title}}</option>
             	</select>

				<button class="btn btn-primary" ng-click="addTo('relationships', {relationshipStatus: relationshipStatus, character: relationshipCharacters})"  ng-class="{'disabled': !relationshipCharacters}"><span class="fa fa-plus"></span></button>
			</div>
			<li ng-repeat="item in editing.relationships">
				<span ng-bind-html="toHTML(item.icon)"></span>
				{{item.character}}
				<button class="btn btn-link text-danger" ng-click="removeFromList('relationships', item)"><span class="fa fa-times"></span></button>
			</li>			
		</ul>

		<!-- Story Points -->
		<h3>Story Points</h3>
		<ul id="history" class="">
			<textarea name="" id="" cols="30" rows="10" class="form-control" ng-model="storyPoint"></textarea>
			<button class="btn btn-primary" ng-click="addTo('history', storyPoint)"
					ng-class="{'disabled': !storyPoint}">
				<span class="fa fa-plus"></span></button>
			<li ng-repeat="item in editing.history">
				{{item}}
				<button class="btn btn-link text-danger" ng-click="removeFromList('history', item)"><span class="fa fa-times"></span></button>
			</li>
		</ul>

		<!-- Appears In -->
		<h3>Appears In</h3>
		<ul id="episodes">
			<input type="text" class="form-control" ng-model="epFilter" placeholder="Filter Characters">
         	<select multiple ng-model="selectedEpisodes" class="form-control">
         		<option ng-repeat="ep in episodes | filter: epFilter">{{ep.title}}</option>
         	</select>

			<button class="btn btn-primary" ng-click="addTo('episodes', selectedEpisodes)"  ng-class="{'disabled': !selectedEpisodes}"><span class="fa fa-plus"></span></button>

			<li ng-repeat="item in editing.episodes">
				{{item}}
				<button class="btn btn-link text-danger" ng-click="removeFromList('episodes', item)"><span class="fa fa-times"></span></button>
			</li>
		</ul>
		
		<div class="row">
			<div class="col-xs-6 col-sm-4">
				<button class="btn btn-default" ng-click="save(editing)"><span class="fa fa-circle-o-notch fa-spin" ng-show="saving"></span> {{cta}} {{ editing.name || '' }}</button>
				<span ng-show="refreshing"><span class="fa fa-circle-o-notch fa-spin"></span> Refreshing List...</span>			
			</div>
		</div>

	<!-- </form> -->
</div>